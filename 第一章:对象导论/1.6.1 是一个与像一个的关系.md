## 1.6.1 “是一个” 与 “像是一个” 的关系

- 对于继承可能会引发某种争论：继承应该只覆盖莝类的方法（而并不添加在基类中没有的新方法）吗？如果这样做，就意味者导出类和基类是完全相同的类型，因为它们具有完全相同的接口。结果可以用一个导出类对象来完全替代一个基类对象。这可以被视为纯料替代，通常称之为`替代原則`。在某种意义上，这是一种处理继承的理想方式。我们经常将这种情况下的基类与导出类之间的关系称为`is-a`（是一个）关系，因为可以说“一个圆形就是一个几何形状”。判断是否继承，就是要确定是否可以用is-a来描达类之间的关系，并使之具有实际意义。
- 有时必须在导出类型中添加新的接口元素，这样也就扩展了接口。这个新的类型仍然可以替代基类，但是这种替代并不完美，因为基类无法访问新添加的方法。这种情况我们可以描述为is-like-a(像是一个）关系。新类型具有日类型的接口，但是它还包含其他方法，所以不能说它们完全相同。以空调为例，假设房子里已经布线安装好了所有的冷气设备的控制器，也就是说，房子具备了让你控制冷气设备的接口。想像一下，如果空调坏了，你用一个既能制冷又能制热的热力泵替换了它，那么这个热力泵就`is-like-a`空调，但是它可以做更多的。因为房子的控制系统被设计为只能控制冷气设备，所以它只能和新对象中的制冷部分进行通信。尽管新对象的接口已经被扩展了，但是现有系统除了原来接口之外，对其他东西一无所知。

![1.6.1](../imgs/1.6.1.png)

- 当然，在看过这个设计之后，很显然会发现，制冷系统这个基类不够一般化，应该特其更名为“温度控制系统”，使其可以包括制热功能，这样我们就可以套用替代原则了。这张图说明了在真实世界中进行设计时可能会发生的事情。
- 当你看到替代原则时，很容易会认为这种方式（纯粹替代）是唯一可行的方式，而且事实上，用这种方式设计是很好的。但是你会时常发現，同样显然的是你必须在导出类的接口中添加新方法。只要仔细車视，两种方法的使用场合应该是相当明显的。


###  小结
- 在组合与继承之间选择：“is-a”（是一个）的关系用继承来表达，“has-a”（有一个）的关系用组合来表达
- `is-a` 和 `is-like-a` 在实际开发中都很常见